<p class="font-weight-bold">Создание поступления</p>
<div class="">
  <button class="btn btn-primary" type="button" (click)="AddProduct()">Добавить товар</button>
</div>
<hr>
<form class="newSaleForm" action="#" [formGroup]="newEntranceForm" (ngSubmit)="Submit($event)">
  <div class="form-group row">
    <div class="col">
      <label for="supplierInput">Поставщик</label>
    </div>
    <div class="col">
      <input id="supplierInput" type="text" class="form-control" formControlName="Supplier">
    </div>
  </div>
    <table class="table">
    <thead>
      <tr>
        <th>№</th>
        <th scope="col">Продукт</th>
        <th scope="col">Количество</th>
        <th scope="col">#</th>
      </tr>
    </thead>
    <tbody formArrayName="EntranceProducts">
      <tr *ngFor="let itemEntranceProduct of newEntranceForm.get('EntranceProducts')['controls']; let i=index;let l=last" [formGroupName]="i">
        <td>{{i+1}}</td>
        <td>
          <select id="productInput" class="form-control" formControlName="ProductId">
            <option *ngFor="let product of products" [ngValue]="product.Id" [disabled]="isProductSelected(product, i)" value="">
              {{product.Name}}
            </option>
          </select>
        </td>
        <td>
          <input formControlName="Count" class="form-control" type="number">
        </td>
        <td>
          <button [disabled]="newEntranceForm.get('EntranceProducts')['controls'].length == 0" (click)="deleteRow(i)" class="btn btn-danger">Удалить</button>
        </td>
      </tr>
    </tbody>
  </table>

  <button type="submit" class="btn btn-primary btn-block">Создать</button>
</form>
<br/>
<!--<pre>{{newSaleForm.value | json}}</pre>-->
